{% extends "base.html" %}

{% block navigation %}
<div class="matchday-nav">
    {% for md in matchdays %}
    <a href="{{ url_for('show_matches', matchday=md) }}"
        class="btn btn-{% if md == current_matchday %}primary{% else %}secondary{% endif %}">
        {% if md == 'gesamt' %}Gesamt{% else %}Spieltag {{ md }}{% endif %}
    </a>
    {% endfor %}
</div>
{% endblock %}

{% block content %}

{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %}

{% if not is_total %}
<!-- Display matches only for regular matchdays -->
{% if matches %}
<div class="matches-section">
    <h3>Matches for Matchday {{ current_matchday }}</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Termin</th>
                <th>Heim</th>
                <th>Gast</th>
                <th>Ergebnis</th>
                <th>Punkteregel</th>
                <th>Exp. Heim</th>
                <th>Exp. Unent.</th>
                <th>Exp. Auswärts</th>
                <th>Quote Heim</th>
                <th>Quote Unent.</th>
                <th>Quote Auswärts</th>
            </tr>
        </thead>
        <tbody>
            {% for match in matches %}
            <tr>
                <td>{{ match.termin }}</td>
                <td>{{ match.heim }}</td>
                <td>{{ match.gast }}</td>
                <td>{{ match.ergebnis }}</td>
                <td>{{ match.punkteregel }}</td>
                <td>{{ match.exp_home_points }}</td>
                <td>{{ match.exp_draw_points }}</td>
                <td>{{ match.exp_away_points }}</td>
                <td>{{ match.odds_home }}</td>
                <td>{{ match.odds_draw }}</td>
                <td>{{ match.odds_away }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}
{% endif %}

{% if tipps %}
<div class="tipps-section">
    <h3>
        {% if is_total %}
        Gesamtpunkte
        {% else %}
        Tipps for Matchday {{ current_matchday }}
        {% endif %}
    </h3>
    <table class="table">
        <thead>
            <tr>
                <th>Member</th>
                <th>{% if is_total %}Gesamtpunkte{% else %}Points{% endif %}</th>
                <th>{% if is_total %}Erwartete Punkte{% else %}Expected{% endif %}</th>
            </tr>
        </thead>
        <tbody>
            {% for tipp in tipps %}
            <tr>
                <td>{{ tipp.member }}</td>
                <td>{{ tipp.points }}</td>
                <td>{{ tipp.expected }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}

{% endblock %}